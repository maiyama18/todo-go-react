{"version":3,"sources":["constants.js","modules/todos.js","components/TodoFilter.js","components/TodoList.js","modules/todoForm.js","components/TodoForm.js","components/App.js","store.js","index.js"],"names":["filters","initialState","fetching","toggling","todos","currentFilter","toggle","id","type","toggleFinished","TodoFilter","_ref","handleChangeFilter","react_default","a","createElement","map","filter","style","marginRight","color","key","onClick","TodoList","this","props","fetchTodos","_this$props","visibleTodos","_this$props2","handleToggleTodo","components_TodoFilter","todo","checked","completed","onChange","disabled","indexOf","title","Component","connect","state","_state$todos","dispatch","Object","asyncToGenerator","regenerator_default","mark","_callee","res","wrap","_context","prev","next","axios","get","sent","data","t0","console","error","stop","apply","arguments","_ref2","_callee2","_context2","put","concat","_x","changeFilter","submitting","text","_state$todoForm","todoForm","handleChangeText","changeText","handleSubmit","e","preventDefault","post","_x2","onSubmit","placeholder","value","target","App","components_TodoForm","components_TodoList","rootReducer","combineReducers","length","undefined","action","objectSpread","toConsumableArray","t","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","es","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.8718eb45.chunk.js","sourcesContent":["export const filters = ['All', 'Incompleted', 'Completed']","import { filters } from '../constants';\n\nconst initialState = {\n  fetching: false,\n  toggling: [],\n  todos: [],\n  currentFilter: filters[0],\n}\n\nconst REQUEST = 'REQUEST'\nconst REQUEST_FINISHED = 'REQUEST_FINISHED'\nconst SET_TODOS = 'SET_TODOS'\nconst ADD_TODO = 'ADD_TODO'\nconst TOGGLE = 'TOGGLE'\nconst TOGGLE_FINISHED = 'TOGGLE_FINISHED'\nconst UPDATE_TODO = 'UPDATE_TODO'\nconst CHANGE_FILTER = 'CHANGE_FILTER'\n\nexport const request = () => ({\n  type: REQUEST,\n})\nexport const requestFinished = () => ({\n  type: REQUEST_FINISHED,\n})\nexport const setTodos = todos => ({\n  type: SET_TODOS,\n  todos,\n})\nexport const addTodo = todo => ({\n  type: ADD_TODO,\n  todo,\n})\nexport const toggle = id => ({\n  type: TOGGLE,\n  id,\n})\nexport const toggleFinished = id => ({\n  type: TOGGLE_FINISHED,\n  id,\n})\nexport const updateTodo = todo => ({\n  type: UPDATE_TODO,\n  todo,\n})\nexport const changeFilter = filter => ({\n  type: CHANGE_FILTER,\n  filter,\n})\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case REQUEST:\n      return {\n        ...state,\n        fetching: true,\n      }\n    case REQUEST_FINISHED:\n      return {\n        ...state,\n        fetching: false,\n      }\n    case SET_TODOS:\n      return {\n        ...state,\n        todos: action.todos,\n      }\n    case ADD_TODO:\n      return {\n        ...state,\n        todos: [...state.todos, action.todo],\n      }\n    case TOGGLE:\n      return {\n        ...state,\n        toggling: [...state.toggling, action.id],\n      }\n    case TOGGLE_FINISHED:\n      return {\n        ...state,\n        toggling: state.toggling.filter(id => id !== action.id),\n      }\n    case UPDATE_TODO:\n      return {\n        ...state,\n        todos: state.todos.map(t => t.id === action.todo.id ? action.todo : t)\n      }\n    case CHANGE_FILTER:\n      return {\n        ...state,\n        currentFilter: action.filter\n      }\n    default:\n      return state\n  }\n}","import React from 'react'\nimport { filters } from '../constants';\n\nconst TodoFilter = ({ currentFilter, handleChangeFilter }) => {\n  return (\n    <div>\n      {filters.map(filter => (\n        <a \n          style={{ marginRight: '0.5rem', color: (filter === currentFilter) ? 'red' : 'blue' }}\n          key={filter}\n          onClick={() => handleChangeFilter(filter)}\n        >\n          {filter}\n        </a>\n      ))}\n    </div>\n  )\n}\n\nexport default TodoFilter","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { request, setTodos, requestFinished, toggle, toggleFinished, updateTodo, changeFilter } from '../modules/todos'\nimport axios from 'axios';\nimport TodoFilter from './TodoFilter';\n\nclass TodoList extends Component {\n  componentDidMount() {\n    this.props.fetchTodos()\n  }\n\n  render() {\n    const { fetching, toggling, visibleTodos, currentFilter } = this.props\n    const { handleToggleTodo, handleChangeFilter } = this.props\n\n    return (\n      <div>\n        <TodoFilter currentFilter={currentFilter} handleChangeFilter={handleChangeFilter} />\n        {\n          fetching\n            ? <p>Now Loading...</p>\n            : (<ul>\n              {visibleTodos.map(todo => (\n                <li key={todo.id}>\n                  <input\n                    type=\"checkbox\"\n                    checked={todo.completed}\n                    onChange={() => handleToggleTodo(todo.id)}\n                    disabled={toggling.indexOf(todo.id) >= 0}\n                  />\n                  {todo.title}\n                </li>\n              ))}\n            </ul>)\n        }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  const { toggling, fetching, todos, currentFilter } = state.todos\n\n  let visibleTodos\n  switch (currentFilter) {\n    case 'All':\n      visibleTodos = todos\n      break\n    case 'Incompleted':\n      visibleTodos = todos.filter(todo => !todo.completed)\n      break\n    case 'Completed':\n      visibleTodos = todos.filter(todo => todo.completed)\n      break\n  }\n\n  return {\n    fetching,\n    toggling,\n    visibleTodos,\n    currentFilter,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  const fetchTodos = async () => {\n    dispatch(request())\n    try {\n      const res = await axios.get(`/api/todos`)\n      dispatch(setTodos(res.data))\n    } catch (err) {\n      console.error(err)\n    }\n    dispatch(requestFinished())\n  }\n\n  const handleToggleTodo = async (id) => {\n    dispatch(toggle(id))\n    try {\n      const res = await axios.put(`/api/todos/${id}`)\n      dispatch(updateTodo(res.data))\n    } catch (err) {\n      console.error(err)\n    }\n    dispatch(toggleFinished(id))\n  }\n\n  const handleChangeFilter = filter => dispatch(changeFilter(filter))\n\n  return {\n    fetchTodos,\n    handleToggleTodo,\n    handleChangeFilter,\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TodoList)","const initialState = {\n  submitting: false,\n  text: '',\n}\n\nconst SUBMIT = 'SUBMIT'\nconst SUBMIT_FINISHED = 'SUBMIT_FINISHED'\nconst CHANGE_TEXT = 'CHANGE_TEXT'\nconst EMPTY_TEXT = 'EMPTY_TEXT'\n\nexport const submit = () => ({\n  type: SUBMIT,\n})\nexport const submitFinished = () => ({\n  type: SUBMIT_FINISHED,\n})\nexport const changeText = text => ({\n  type: CHANGE_TEXT,\n  text,\n})\nexport const emptyText = () => ({\n  type: EMPTY_TEXT,\n})\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SUBMIT:\n      return {\n        ...state,\n        submitting: true,\n      }\n    case SUBMIT_FINISHED:\n      return {\n        ...state,\n        submitting: false,\n      }\n    case CHANGE_TEXT:\n      return {\n        ...state,\n        text: action.text,\n      }\n    case EMPTY_TEXT:\n      return {\n        ...state,\n        text: '',\n      }\n    default:\n      return state\n  }\n}","import React from 'react'\nimport axios from 'axios'\nimport { changeText, emptyText, submit, submitFinished } from '../modules/todoForm';\nimport { addTodo } from '../modules/todos';\nimport { connect } from 'react-redux';\n\nconst TodoForm = props => {\n  const { text, submitting } = props\n  const { handleChangeText, handleSubmit } = props\n\n  return (\n    <form onSubmit={e => handleSubmit(e, text)}>\n      <input\n        type=\"text\"\n        placeholder=\"New Todo...\"\n        value={text}\n        onChange={e => handleChangeText(e.target.value)}\n      />\n      <button \n        type=\"submit\"\n        disabled={submitting}\n      >\n        Submit\n      </button>\n    </form>\n  )\n}\n\nconst mapStateToProps = state => {\n  const { text, submitting } = state.todoForm\n\n  return {\n    text,\n    submitting,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  const handleChangeText = text => dispatch(changeText(text))\n\n  const handleSubmit = async (e, text) => {\n    e.preventDefault()\n\n    dispatch(submit())\n    try {\n      const res = await axios.post(`/api/todos`, {\n        title: text,\n      })\n      dispatch(addTodo(res.data))\n      dispatch(emptyText())\n    } catch (err) {\n      console.error(err)\n    }\n    dispatch(submitFinished())\n  }\n\n  return {\n    handleChangeText,\n    handleSubmit,\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TodoForm)","import React from 'react'\nimport TodoList from './TodoList';\nimport TodoForm from './TodoForm'\n\nconst App = () => (\n  <div>\n    <TodoForm />\n    <TodoList />\n  </div>\n)\n\nexport default App\n","import todosReducer from './modules/todos'\nimport todoFormReducer from './modules/todoForm'\nimport { createStore, combineReducers } from 'redux';\n\nconst rootReducer = combineReducers({\n  todos: todosReducer,\n  todoForm: todoFormReducer,\n})\n\nconst store = createStore(\n  rootReducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n)\n\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport App from './components/App'\nimport store from './store'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}