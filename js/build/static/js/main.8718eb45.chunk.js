(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(t,e,n){t.exports=n(58)},58:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(20),o=n.n(c),i=n(5),u=n(4),l=n.n(u),s=n(7),d=n(24),p=n(25),f=n(27),E=n(26),g=n(28),h=n(12),b=n(1),m=["All","Incompleted","Completed"],O={fetching:!1,toggling:[],todos:[],currentFilter:m[0]},T=function(t){return{type:"TOGGLE",id:t}},v=function(t){return{type:"TOGGLE_FINISHED",id:t}},_=n(8),y=n.n(_),j=function(t){var e=t.currentFilter,n=t.handleChangeFilter;return a.a.createElement("div",null,m.map(function(t){return a.a.createElement("a",{style:{marginRight:"0.5rem",color:t===e?"red":"blue"},key:t,onClick:function(){return n(t)}},t)}))},S=function(t){function e(){return Object(d.a)(this,e),Object(f.a)(this,Object(E.a)(e).apply(this,arguments))}return Object(g.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){this.props.fetchTodos()}},{key:"render",value:function(){var t=this.props,e=t.fetching,n=t.toggling,r=t.visibleTodos,c=t.currentFilter,o=this.props,i=o.handleToggleTodo,u=o.handleChangeFilter;return a.a.createElement("div",null,a.a.createElement(j,{currentFilter:c,handleChangeFilter:u}),e?a.a.createElement("p",null,"Now Loading..."):a.a.createElement("ul",null,r.map(function(t){return a.a.createElement("li",{key:t.id},a.a.createElement("input",{type:"checkbox",checked:t.completed,onChange:function(){return i(t.id)},disabled:n.indexOf(t.id)>=0}),t.title)})))}}]),e}(r.Component),D=Object(i.b)(function(t){var e,n=t.todos,r=n.toggling,a=n.fetching,c=n.todos,o=n.currentFilter;switch(o){case"All":e=c;break;case"Incompleted":e=c.filter(function(t){return!t.completed});break;case"Completed":e=c.filter(function(t){return t.completed})}return{fetching:a,toggling:r,visibleTodos:e,currentFilter:o}},function(t){return{fetchTodos:function(){var e=Object(s.a)(l.a.mark(function e(){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"REQUEST"}),e.prev=1,e.next=4,y.a.get("/api/todos");case 4:n=e.sent,t({type:"SET_TODOS",todos:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:t({type:"REQUEST_FINISHED"});case 12:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}(),handleToggleTodo:function(){var e=Object(s.a)(l.a.mark(function e(n){var r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(T(n)),e.prev=1,e.next=4,y.a.put("/api/todos/".concat(n));case 4:r=e.sent,t({type:"UPDATE_TODO",todo:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:t(v(n));case 12:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),handleChangeFilter:function(e){return t(function(t){return{type:"CHANGE_FILTER",filter:t}}(e))}}})(S),x={submitting:!1,text:""},I=Object(i.b)(function(t){var e=t.todoForm;return{text:e.text,submitting:e.submitting}},function(t){return{handleChangeText:function(e){return t(function(t){return{type:"CHANGE_TEXT",text:t}}(e))},handleSubmit:function(){var e=Object(s.a)(l.a.mark(function e(n,r){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t({type:"SUBMIT"}),e.prev=2,e.next=5,y.a.post("/api/todos",{title:r});case 5:a=e.sent,t({type:"ADD_TODO",todo:a.data}),t({type:"EMPTY_TEXT"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:t({type:"SUBMIT_FINISHED"});case 14:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t,n){return e.apply(this,arguments)}}()}})(function(t){var e=t.text,n=t.submitting,r=t.handleChangeText,c=t.handleSubmit;return a.a.createElement("form",{onSubmit:function(t){return c(t,e)}},a.a.createElement("input",{type:"text",placeholder:"New Todo...",value:e,onChange:function(t){return r(t.target.value)}}),a.a.createElement("button",{type:"submit",disabled:n},"Submit"))}),w=function(){return a.a.createElement("div",null,a.a.createElement(I,null),a.a.createElement(D,null))},F=n(6),k=Object(F.b)({todos:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REQUEST":return Object(b.a)({},t,{fetching:!0});case"REQUEST_FINISHED":return Object(b.a)({},t,{fetching:!1});case"SET_TODOS":return Object(b.a)({},t,{todos:e.todos});case"ADD_TODO":return Object(b.a)({},t,{todos:Object(h.a)(t.todos).concat([e.todo])});case"TOGGLE":return Object(b.a)({},t,{toggling:Object(h.a)(t.toggling).concat([e.id])});case"TOGGLE_FINISHED":return Object(b.a)({},t,{toggling:t.toggling.filter(function(t){return t!==e.id})});case"UPDATE_TODO":return Object(b.a)({},t,{todos:t.todos.map(function(t){return t.id===e.todo.id?e.todo:t})});case"CHANGE_FILTER":return Object(b.a)({},t,{currentFilter:e.filter});default:return t}},todoForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SUBMIT":return Object(b.a)({},t,{submitting:!0});case"SUBMIT_FINISHED":return Object(b.a)({},t,{submitting:!1});case"CHANGE_TEXT":return Object(b.a)({},t,{text:e.text});case"EMPTY_TEXT":return Object(b.a)({},t,{text:""});default:return t}}}),C=Object(F.c)(k,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(a.a.createElement(i.a,{store:C},a.a.createElement(w,null)),document.getElementById("root"))}},[[29,2,1]]]);
//# sourceMappingURL=main.8718eb45.chunk.js.map